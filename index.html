<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

    <title>Heures</title>

    <script src="./bower_components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="./bower_components/paper-header-panel/paper-header-panel.html">
    <link rel="import" href="./bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="./bower_components/iron-flex-layout/iron-flex-layout.html">

    <link rel="import" href="./elements/hours-card.html">
    <link rel="import" href="./elements/hours-date.html">

    <style is="custom-style">
        paper-header-panel {
            height: 500px;
        }
        .content {
            height: 2000px;
        }
        paper-toolbar {
            background-color: rgba(127, 226, 159, 0.24);
        }

    </style>
</head>

<body class="fullbleed">
    <paper-header-panel mode="standard" class="vertical layout fit">

        <paper-toolbar>
            <hours-date id="idCurrentDate"></hours-date>
        </paper-toolbar>

        <div class="content fit">
            <hours-card id="idGarde" title="Garde" service="garde"></hours-card>
            <hours-card id="idMenage" title="MÃ©nage" service="menage"></hours-card>
        </div>
    </paper-header-panel>

    <script>
        // todo: with binding (create an app component and use {{currentMonth}} and {{currentYear}})
        idCurrentDate.addEventListener("month-changed", function(e){
            console.log('event month-changed', e.detail.value);
            idGarde.month = e.detail.value;
            idMenage.month = e.detail.value;
        });
        idCurrentDate.addEventListener("year-changed", function(e){
            console.log('event year-changed', e.detail.value);
            idGarde.year = e.detail.value;
            idMenage.year = e.detail.value;
        });
    </script>
</body>
</html>